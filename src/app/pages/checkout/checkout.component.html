<div class="container">

<form class="form item" (ngSubmit)="onSubmit(checkoutForm)" #checkoutForm="ngForm">
  <mat-form-field class="form__element">
    <input 
    matInput
    required
    [(ngModel)]="model.name"
    name="name"
    #name="ngModel"
    placeholder="Nombre"
    >
  <mat-error *ngIf="!name.valid || name.pristine">
    Name is required
  </mat-error>
  </mat-form-field>

  <mat-radio-group class="form__element">
    <p>Escoja una opcion</p>
    <div class="btns">
      <mat-radio-button
      value="tienda"
      (change)="onPickupOrDelivery(false)" checked
      >Tienda</mat-radio-button>
      

      <mat-radio-button
      value="delivery"
      (change)="onPickupOrDelivery(true)"
      >Delivery</mat-radio-button>
    </div>
  </mat-radio-group>

  <ng-container *ngIf="isDelivery; else showStores">

    <mat-form-field class="form__element">
      <input 
      matInput
      placeholder="Ciudad"
      [(ngModel)]="model.city"
      name="city"
      #city="ngModel"
      >    
    </mat-form-field>

    <mat-form-field class="form__element">
      <input 
      matInput
      placeholder="DirrecciÃ³n de envio"
      [(ngModel)]="model.shippingAddress"
      name="shippingAddress"
      #shippingAddress="ngModel"
      >    
    </mat-form-field>
 
  </ng-container>
  
  <ng-template #showStores>

    <mat-form-field class="form__element">
      <mat-label>Select Me</mat-label>
      <mat-select [(ngModel)]="model.store" name="store" #store="ngModel">
        <mat-option *ngFor="let tienda of stores" value="tienda">
          {{ tienda.name }} - {{tienda.openingHours }}  
        </mat-option>
      </mat-select>
    </mat-form-field>
  
  </ng-template>

  <app-details></app-details>

  <div class="container__button">
    <button
    mat-raised-button
    [disabled]="!checkoutForm.form.valid"
    color="primary"
    type="submit"
    >
    Checkout
    </button>
  </div>

</form>
</div>